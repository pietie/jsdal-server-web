<mat-card *ngIf="exceptionDetail">
  <mat-card-content>


    <mat-spinner diameter="24" *ngIf="isLoading"></mat-spinner>

    <span
      class="head">{{ exceptionDetail.created | fromISODateStr | date:'dd MMM yyyy, HH:mm:ss' }}</span>&nbsp;<span>({{ exceptionDetail.id }})</span>
    <hr />
    <div class="exception-detail" *ngIf="exceptionDetail">
      <div class="msg" [innerHTML]="formatMessage(exceptionDetail.message)"></div>
      <hr />

      <div class="stack" *ngIf="exceptionDetail.stackTrace" [innerHTML]="formatStackTrace(exceptionDetail.stackTrace)">


      </div>

    </div>
    <div class="exec-option"
      *ngIf="exceptionDetail && exceptionDetail.execOptions &&  exceptionDetail.execOptions.project">
      <h3>
        jsDAL execution options
      </h3>
      <div class="row">
        <span class="field">Endpoint</span>
        <span
          class="value">{{ exceptionDetail.execOptions.project }}/{{ exceptionDetail.execOptions.application }}/{{ exceptionDetail.execOptions.endpoint }}</span>
      </div>

      <div class="row">
        <span class="field">Routine</span>
        <span
          class="value">[{{ exceptionDetail.execOptions.schema }}].[{{ exceptionDetail.execOptions.routine }}]</span>
      </div>

      <div class="row">
        <span class="field">Type</span>
        <span class="value">{{ execTypeValues[exceptionDetail.execOptions.type] }}</span>
      </div>



      <div class="sql">
        <textarea>exec [{{ exceptionDetail.execOptions.schema }}].[{{ exceptionDetail.execOptions.routine }}] {{ buildExecParmList(exceptionDetail.execOptions.inputParameters) }}</textarea>
      </div>

      <!-- Batch stuff = {{ exceptionDetail.execOptions.OverridingInputParameters }}

      ?? = {{exceptionDetail.execOptions | json}} -->
    </div>

  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="primary"  routerLink="..">CLOSE</button>
  </mat-card-actions>
  <!-- <mat-card-footer>
      <mat-progress-bar mode="query"></mat-progress-bar>
  </mat-card-footer> -->
</mat-card>